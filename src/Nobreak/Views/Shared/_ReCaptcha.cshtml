@model Nobreak.Infra.Services.ReCaptcha.IReCaptchaRequired
@inject Nobreak.Infra.Services.ReCaptcha.IReCaptchaValidator recaptcha
@Html.HiddenFor(m=>m.ReCaptchaToken)
<script>
    function recaptchaOnLoad() {
        var clientId = grecaptcha.render({
            badge: "bottomleft",
            sitekey: "@recaptcha.SiteKey",
            size: "invisible"
        })
        grecaptcha.ready(() =>
            grecaptcha.execute(clientId, { action: "login" }).then(token =>
                document.getElementById("@Html.IdFor(m=>m.ReCaptchaToken)").value = token));
    }
</script>
<script src="https://www.google.com/recaptcha/api.js?render=explicit&onload=recaptchaOnLoad"></script>